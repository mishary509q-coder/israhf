<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù„ÙˆØ­Ø© Ø§Ù„ÙˆÙƒÙŠÙ„ - Ø¥Ø´Ø±Ø§ÙÙŠ</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="navbar">
    <div class="nav-left"><strong>Ø¥Ø´Ø±Ø§ÙÙŠ</strong></div>
    <div class="nav-right">
      <button onclick="toggleDarkMode()">ğŸŒ™</button>
      <button onclick="logout()">ğŸ”“ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <div class="container">
    <h2 id="welcome">Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ğŸ‘‹</h2>

    <label>Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø­Ø³Ø¨:</label>
    <select id="period">
      <option value="day">Ø§Ù„ÙŠÙˆÙ…</option>
      <option value="week">Ø£Ø³Ø¨ÙˆØ¹</option>
      <option value="month">Ø´Ù‡Ø±</option>
    </select>

    <div class="charts-row">
      <div class="chart-box">
        <h3>ğŸ“Š Ø£ÙƒØ«Ø± Ø§Ù„ÙØµÙˆÙ„ ØºÙŠØ§Ø¨Ù‹Ø§</h3>
        <canvas id="classChart"></canvas>
      </div>
      <div class="chart-box">
        <h3>ğŸ‘¥ Ø£ÙƒØ«Ø± Ø§Ù„Ø·Ù„Ø§Ø¨ ØºÙŠØ§Ø¨Ù‹Ø§</h3>
        <canvas id="studentChart"></canvas>
      </div>
    </div>

    <h3>ğŸ“… Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
    <table class="absence-table">
      <thead>
        <tr>
          <th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
          <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
          <th>Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ø¹Ù„Ù…</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ø³Ø§Ø±Ø© Ø®Ø§Ù„Ø¯</td>
          <td class="status-absent">âŒ ØºØ§Ø¦Ø¨</td>
          <td>Ù„Ù… ØªØ­Ø¶Ø± Ø§Ù„Ø­ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰</td>
        </tr>
        <tr>
          <td>Ù†ÙˆØ§Ù Ø¹Ù„ÙŠ</td>
          <td class="status-late">ğŸŸ¡ Ù…ØªØ£Ø®Ø±</td>
          <td>ÙˆØµÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø§Ø¨ÙˆØ±</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    document.getElementById("welcome").textContent = localStorage.getItem("agentName") || "ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ğŸ‘‹";

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function toggleLanguage() {
      const currentLang = document.documentElement.lang;
      if (currentLang === "ar") {
        document.documentElement.lang = "en";
        document.documentElement.dir = "ltr";
        alert("Language switched to English ğŸŒ");
      } else {
        document.documentElement.lang = "ar";
        document.documentElement.dir = "rtl";
        alert("ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸŒ");
      }
    }

    function logout() {
      localStorage.clear();
      window.location.href = "index.html";
    }

    new Chart(document.getElementById('classChart'), {
      type: 'bar',
      data: {
        labels: ['Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„', 'Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ', 'Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø«'],
        datasets: [{
          label: 'Ø¹Ø¯Ø¯ Ø§Ù„ØºÙŠØ§Ø¨',
          data: [12, 8, 5],
          backgroundColor: ['#ff6384', '#36a2eb', '#ffce56']
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: { display: true, text: 'Ø§Ù„ÙØµÙˆÙ„ Ø§Ù„Ø£ÙƒØ«Ø± ØºÙŠØ§Ø¨Ù‹Ø§' }
        },
        scales: { y: { beginAtZero: true } }
      }
    });

    new Chart(document.getElementById('studentChart'), {
      type: 'bar',
      data: {
        labels: ['Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'Ø±ÙŠÙ… Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡', 'Ø³Ø§Ø±Ø© Ø®Ø§Ù„Ø¯'],
        datasets: [{
          label: 'Ø¹Ø¯Ø¯ Ø§Ù„ØºÙŠØ§Ø¨',
          data: [5, 4, 3],
          backgroundColor: ['#4bc0c0', '#9966ff', '#ff9f40']
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: { display: true, text: 'Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø£ÙƒØ«Ø± ØºÙŠØ§Ø¨Ù‹Ø§' }
        },
        scales: { y: { beginAtZero: true } }
      }
    });
  </script>
</body>
</html>